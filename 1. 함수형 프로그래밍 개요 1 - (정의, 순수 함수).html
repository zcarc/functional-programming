<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>

    <script type="text/javascript">

      var obj1 = {
        val: 10
      };

      function add4(obj, b){
        obj.val += b;
      }

      console.log(obj1.val);
      add4(obj1, 30);
      console.log(obj1.val);

      // add4 함수는 obj1의 값을 직접 변경하고 있으므로 순수함수가 아니다.


      // 순수함수
      var obj1 = {
        val : 10
      };

      function add5 (obj, b){
        return {
          val : obj.val + b
        }
      }



      // add5 함수 실행전 obj1
      console.log(obj1.val);

      // add5 함수는 인자로 전달된 obj1의 값은 변경하지 않는다
      // 즉 함수 내부에서 외부의 값을 변경하지 않는다.
      var obj2 = add5(obj1, 20);
      console.log(obj1.val);
      console.log(obj2.val);



      function add(a, b){
        return a + b;
      }


      var f1 = function(a){
        return a * a;
      };
      console.log(f1);

      var f2 = add;
      console.log(f2);

      // 일급 함수
      function f3(f){
        return f();
      }

      console.log( f3( function(){
                return 10;
              } )
      );

      console.log( f3( function(){
                return 20;
              } )
      );

      
      // add maker
      function add_maker(a){
        return function(b){
          return  a + b;
        }
      }

      var add10 = add_maker(10);
      console.log('add10(20):', add10(20));

      // function add_maker2(c){
      //   return {
      //     addition : function(b){
      //       return  c + b;
      //     },
      //     get_c : function(){
      //       return c;
      //     }
      //   }
      // }
      //
      // var ad2 = add_maker2(2);
      // var resultAddition = ad2.addition(10);
      // console.log('resultAddtion: ', resultAddition);
      //
      // console.log(ad2.get_c());


      function f4(f1, f2, f3){
        return f3( f1() + f2() );
      }

      console.log( f4(
              function(){
                return 1;
              },
              function(){
                return 2;
              },
              function(a){
                return a * a;
              }
      ) );

    </script>
  </body>
</html>
